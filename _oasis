OASISFormat: 0.4
Name:        wom
Version:     0.0.1
Synopsis:    Winds of Mahjong. A 4 player mahjong game.
Authors:     Denis Berthod
License:     BSD-3-clause
Plugins:     DevFiles (0.4), META (0.4), StdFiles (0.4)
AlphaFeatures: ocamlbuild_more_args
XOCamlbuildPLuginTags: package(js_of_ocaml.ocamlbuild)
OcamlVersion: >= 4.02

Library mahjong_engine
  Path:            src/mahjong_engine
  BuildTools:      ocamlbuild
  CompiledObject:  best
  Build:           true
  Modules:         Tileset, Fsm, Engine
  Findlibname:     mahjong_engine
  NativeOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot
  ByteOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot

Library mahjong_ai
  Path:		   src/mahjong_ai
  BuildTools:	   ocamlbuild
  CompiledObject:  best
  Build:	   true
  BuildDepends:	   mahjong_engine
  Modules:	   Mahjong_ai
  Findlibname:	   mahjong_ai
  NativeOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot
  ByteOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot

Library rules
  Path:		   src/rules
  BuildTools:	   ocamlbuild
  CompiledObject:  best
  Build:	   true
  BuildDepends:	   mahjong_engine
  Modules:	   Rule_manager, Simple, Zung_jung
  Findlibname:	   rules
  NativeOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot
  ByteOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot

Executable wom_nox
  Path:            src/nox
  BuildTools:	   ocamlbuild
  BuildDepends:	   mahjong_engine, mahjong_ai, rules
  Build:	   true
  MainIs:	   wom_nox.ml
  CompiledObject:  best
  NativeOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot
  ByteOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot
  
Executable mahjong_engine_test
  Path:		   test
  BuildTools:      ocamlbuild
  BuildDepends:    oUnit, mahjong_engine
  Build:           true
  MainIs:          mahjong_engine.ml
  CompiledObject:  best
  NativeOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot
  ByteOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot

Executable mahjong_engine_perf_test_js
  Path:            test
  BuildTools:      ocamlbuild
  BuildDepends:    unix, mahjong_engine, mahjong_ai
  Build:           true
  MainIs:          mahjong_engine_performance.ml
  CompiledObject:  byte
  NativeOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot
  ByteOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot

Executable mahjong_engine_perf_test
  Path:            test
  BuildTools:      ocamlbuild
  BuildDepends:    unix, mahjong_engine, mahjong_ai
  Build:           true
  MainIs:          mahjong_engine_performance.ml
  CompiledObject:  best
  NativeOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot
  ByteOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot

Executable engine_debugger
  Path:            src/engine_debugger
  BuildTools:      ocamlbuild
  BuildDepends:    mahjong_engine
  Build:           true
  ByteOpt:	   -g
  NativeOpt:	   -g
  MainIs:          engine_debugger.ml
  CompiledObject:  best
  NativeOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot
  ByteOpt:	   -w +32..39 -warn-error +32..39 -annot -bin-annot

Test mahjong_engine
  WorkingDirectory: _build/test
  Command:          ./mahjong_engine.native
  Run:              true